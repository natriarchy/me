<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
  <meta name="theme-color" content="#FAC800">
  <meta name="apple-mobile-web-app-status-bar-style" content="lightyellow">
  <title>Morgan</title>
  <meta name="description" content="My academic design project on Passaic, NJ.">
  <meta name="keywords" content="Nathan Erwin, Nathan, Erwin, Urban Planning, MCRP">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
  <link rel="stylesheet" media="screen and (max-width: 599px)" href="\css\styles-small.css" type="text/css">
  <link rel="stylesheet" media="screen and (min-width: 600px) and (max-width: 900px)" href="\css\styles-medium.css" type="text/css">
  <link rel="stylesheet" media="screen and (min-width: 901px)" href="\css\styles-large.css" type="text/css">
  <link rel="shortcut icon" href="\img\logo2.png">
  <script src="https://unpkg.com/leaflet@1.5.1/dist/leaflet.js"
     integrity="sha512-GffPMF3RvMeYyc1LWMHtK8EbPv0iNZ8/oTtHPx9/cc2ILxQ+u905qIwdpULaqDkyBKgOaB57QTMg7ztg8Jm2Og=="
     crossorigin=""></script>
     <script src="https://cdn.jsdelivr.net/npm/leaflet-textpath@1.2.0/leaflet.textpath.min.js"></script>
     <link rel="stylesheet" href="\map\css\leaflet.css" type="text/css">
     <link rel="stylesheet" href="\map\css\gis2web.css" type="text/css">
</head>
<header id="header" class="container-fluid">
  <section class="design-header">
      <div class="design-title2">The Matterhorn | original</div>
      <div class="matterhorn"><img src="/img/matterhorn.jpg"></div>
      <div class="design-title1" id="titlea">natriarch | <script>document.write(document.title);</script></div>
  </section>
  <section class="nav">
    <nav id="topnav">
      <ol>
        <li onclick="innerURL(this)"><a href="index.html">Home</a></li>
        <li onclick="innerURL(this)"><a href="aboutme.html">About</a></li>
        <li id="dropdown-title">Design
          <div id="dropdown">
            <a href="design.html">intro</a><br>
            <a href="design-camden.html">camden</a><br>
            <a href="design-dayton.html">dayton-newark</a><br>
            <a href="design-passaic.html">passaic</a><br>
            <a href="design-morgan.html">morgan-Sayreville</a>
          </div>
        </li>
        <li onclick="innerURL(this)"><a href="writings.html">Writings</a></li>
      </ol>
      <div id="flair-before"></div>
      <div id="flair-after"></div>
    </nav>
</section>
</header>
<body>
<section id="column-main">
  <div class="leftside"></div>
  <div class="rightside"></div>
  <div class="container d-flex p-100 m-auto justify-content-between flex-row flex-wrap rounded bg-warning" style="grid-column: left/span 3;border:unset; height: 55vh;box-shadow:inset 0px 0px 20px 1px;">
    <img src="\img\me.JPG" class="align-self-center img-thumbnail m-auto rounded-lg" style="height: 33vh;max-width:100%">
    <div class="d-flex flex-column justify-content-around align-content-center m-auto align-text-center">
      <h2 class="display-4 text-light">welcome</h2>
      <a onclick="this.scrollIntoView()" class="btn btn-dark text-light shadow-lg align-self-center">click me</a>
    </div>
  </div>
  <div id="morganmap" class="card">
  </div>
  <div id="coords" class="card">&nbsp;00.0000, -00.0000</div>
  <div id="subtitle" class="card">Proof of concept</div>
</section>
<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
</body>
<footer id="footer">
  <div class="top">
    <img src="\img\contact-me.png" alt="contact-me" class="contact">
  </div>
  <div class="top-line">
    <a href="https://goo.gl/maps/BGDG3myQtKB2" target="_blank" class="address"></a>
    <a href="tel:+12026811138" target="_blank" class="tel"></a>
  </div>
  <div class="middle">
    <a href="mailto: nterwin714@gmail.com" target="_blank" class="email"></a>
    <a href="https://linkedin.com/in/nterwin714" target="_blank" class="linked"><img src="\img\Logo-Black-128px-R.png" alt="linkedIn logo"></a>
  </div>
</footer>
<script>
$(document).ready(function(){
  $("#dropdown-title,#dropdown").hover(function(){
    $("#dropdown").css("display", "flex");
    }, function(){
    $("#dropdown").css("display", "none");
  });
  $(window).scroll(function() {
    if ($(document).scrollTop() >= ($(window).innerHeight() * .155)) {
      $("#topnav").addClass("sticky");
      $("#titlea").addClass("stickytitle");
      $("#dropdown").addClass("stickydrop");
    } else {
      $("#topnav").removeClass("sticky");
      $("#titlea").removeClass("stickytitle");
      $("#dropdown").removeClass("stickydrop");
    }
  });
  $("#footer").hover(function(){
    $("#footer").css("transform","translateY(-9vh)");
    }, function(){
    $("#footer").css("transform","translateY(0vh)");
  });
});
</script>
<script src="/map/Autolinker.min.js"></script>
<script src="/map/data/MorganProps_0.js"></script>
<script src="/map/data/MorganSts_1.js"></script>
<script>
    var highlightLayer;
    function highlightFeature(e) {
        highlightLayer = e.target;
        highlightLayer.openPopup();
    }
    var mymap = L.map('morganmap' , {
    center: [40.466,-74.274],
    zoom: 14,
    continuousWorld: false,
    worldCopyJump: false,
    zoomControl:true, maxZoom:16.5, minZoom:14,
    maxBounds:[[40.49,-74.30],[40.430,-74.2377]],
    });
    mymap.on("mousemove", function (event) {
      console.log(event.latlng.toString());
      var spot = (event.latlng);
      $('#coords').html("&nbsp;"+[(spot.lat).toFixed(4)]+', '+(spot.lng).toFixed(4));
    });
    function pop_MorganProps_0(feature, layer) {
        layer.on({
            mouseout: function(e) {
                if (typeof layer.closePopup == 'function') {
                    layer.closePopup();
                } else {
                    layer.eachLayer(function(feature){
                        feature.closePopup()
                    });
                }
            },
            mouseclick: highlightFeature,
        });
        var popupContent = '<table style="text-align:center;user-select:none;">\
                <tr>\
                    <td colspan="2" style="font-weight:bolder">' + (feature.properties['ST_ADDRESS'] !== null ? Autolinker.link(String(feature.properties['ST_ADDRESS'])) : '') + '</td>\
                </tr>\
                <tr>\
                    <td colspan="2">' + 'Land Value' + ' : $'+(feature.properties['LAND_VAL'] !== null ? Autolinker.link(Number(feature.properties['LAND_VAL']).toLocaleString('en')) : '') + '</td>\
                </tr>\
                <tr>\
                    <td colspan="2">' + 'Impr Value' + ' : $' + (feature.properties['IMPRVT_VAL'] !== null ? Autolinker.link(Number(feature.properties['IMPRVT_VAL']).toLocaleString('en')) : '') + '</td>\
                </tr>\
                <tr style="color:palegoldenrod;text-shadow:1.5px 1.5px 1px red;font-weight:bold">\
                    <th scope="row">NET VALUE</th>\
                    <td>$' + (feature.properties['NET_VALUE'] !== null ? Autolinker.link(Number(feature.properties['NET_VALUE']).toLocaleString('en')) : '') + '</td>\
                </tr>\
                <tr style="font-weight:bolder">\
                    <td colspan="2">' + (feature.properties['ZONE'] !== null ? Autolinker.link(String(feature.properties['ZONE'])) : '') + '</td>\
                </tr>\
                <tr>\
            </table>';
        layer.bindPopup(popupContent, {maxHeight: 400});
    }
    function style_MorganProps_0_0(feature) {
        switch(String(feature.properties['ZONE'])) {
            case 'R-7':
                return {
            pane: 'pane_MorganProps_0',
            opacity: 1,
            color: 'rgba(80,80,80,.9)',
            dashArray: '',
            lineCap: 'butt',
            lineJoin: 'miter',
            weight: .5,
            fill: true,
            fillOpacity: 1,
            fillColor: 'rgba(235,214,161,0.9)',
        }
                break;
            case 'R-10':
                return {
            pane: 'pane_MorganProps_0',
            opacity: 1,
            color: 'rgba(80,80,80,.9)',
            dashArray: '',
            lineCap: 'butt',
            lineJoin: 'miter',
            weight: .5,
            fill: true,
            fillOpacity: 1,
            fillColor: 'rgba(232,153,74,0.9)',
        }
                break;
            case 'PD-10':
                return {
            pane: 'pane_MorganProps_0',
            opacity: 1,
            color: 'rgba(80,80,80,0.9)',
            dashArray: '',
            lineCap: 'butt',
            lineJoin: 'miter',
            weight: .5,
            fill: true,
            fillOpacity: 1,
            fillColor: 'rgba(212,111,15,0.9)',
        }
                break;
            case 'B-3':
                return {
            pane: 'pane_MorganProps_0',
            opacity: 1,
            color: 'rgba(80,80,80,0.9)',
            dashArray: '',
            lineCap: 'butt',
            lineJoin: 'miter',
            weight: .5,
            fill: true,
            fillOpacity: 1,
            fillColor: 'rgba(243,126,140,0.9)',
        }
                break;
            case 'P':
                return {
            pane: 'pane_MorganProps_0',
            opacity: 1,
            color: 'rgba(80,80,80,0.9)',
            dashArray: '',
            lineCap: 'butt',
            lineJoin: 'miter',
            weight: .5,
            fill: true,
            fillOpacity: 1,
            fillColor: 'rgba(166,202,243,0.9)',
        }
                break;
            case 'MW':
                return {
            pane: 'pane_MorganProps_0',
            opacity: 1,
            color: 'rgba(80,80,80,0.9)',
            dashArray: '',
            lineCap: 'butt',
            lineJoin: 'miter',
            weight: .5,
            fill: true,
            fillOpacity: 1,
            fillColor: 'rgba(187,164,109,0.9)',
        }
                break;
            case 'MW (PUD)':
                return {
            pane: 'pane_MorganProps_0',
            opacity: 1,
            color: 'rgba(80,80,80,0.9)',
            dashArray: '',
            lineCap: 'butt',
            lineJoin: 'miter',
            weight: .5,
            fill: true,
            fillOpacity: 1,
            fillColor: 'rgba(133,97,7,0.9)',
        }
                break;
            default:
                return {
            pane: 'pane_MorganProps_0',
            opacity: 1,
            color: 'rgba(80,80,80,0.9)',
            dashArray: '',
            lineCap: 'butt',
            lineJoin: 'miter',
            weight: .5,
            fill: true,
            fillOpacity: 1,
            fillColor: 'rgba(198,176,243,0.9)',
        }
                break;
        }
    }
    mymap.createPane('pane_MorganProps_0');
    mymap.getPane('pane_MorganProps_0').style.zIndex = 400;
    var svgrender = L.svg({ padding: 10 });
    var layer_MorganProps_0 = new L.geoJson(json_MorganProps_0, {
        attribution: '',
        pane: 'pane_MorganProps_0',
        onEachFeature: pop_MorganProps_0,
        style: style_MorganProps_0_0,
    });
    mymap.addLayer(layer_MorganProps_0);
    var pos1 = [40.4710,-74.2842],
        pos2 = [40.4673,-74.2811];
    var layer_polyName = L.polyline(([pos1, pos2]),{opacity:0}).setText('State Hwy 34', {center: true,attributes: {fill: 'white'}})
    mymap.addLayer(layer_polyName);
    function style_MorganSts_1_0(feature) {
        switch(String(feature.properties['SYMBOLTYPE'])) {
            case '100':
            case '108':
                return {
            pane: 'pane_MorganSts_1',
            opacity: 1,
            color: 'rgba(270,50,50,1.0)',
            dashArray: '',
            lineCap: 'round',
            lineJoin: 'round',
            weight: 1.5,
            fillOpacity: 0,
            smoothFactor:2,
        }
                break;
            case '300':
            case '308':
                return {
            pane: 'pane_MorganSts_1',
            opacity: 1,
            color: 'rgba(239,206,74,1.0)',
            dashArray: '',
            lineCap: 'round',
            lineJoin: 'round',
            weight: 2.0,
            fillOpacity: 0,
            smoothFactor:2,
        }
                break;
            case '400':
            case '408':
            case '500':
            case '508':
                return {
            pane: 'pane_MorganSts_1',
            opacity: 1,
            color: 'rgba(260,101,0,1.0)',
            dashArray: '',
            lineCap: 'round',
            lineJoin: 'round',
            weight: 1.5,
            fillOpacity: 0,
        }
                break;
            case '600':
            case '700':
                return {
            pane: 'pane_MorganSts_1',
            opacity: .5,
            color: 'rgba(260,260,260,1.0)',
            dashArray: '2 0 0 2',
            lineCap: 'round',
            lineJoin: 'round',
            weight: .5,
            fillOpacity: 0,
        }
                break;
            default:
                return {
            pane: 'pane_MorganSts_1',
            opacity: 1,
            color: 'rgba(0,0,0,1.0)',
            dashArray: '',
            lineCap: 'round',
            lineJoin: 'round',
            weight: 1,
            fillOpacity: 0,
        }
                break;
            case '900':
                return {
            pane: 'pane_MorganSts_1',
            opacity: 1,
            color:'rgba(0,0,0,1.0)',
            dashArray: '',
            lineCap: 'round',
            lineJoin: 'round',
            weight: 3.0,
            fillOpacity: 1,
        }
                break;
        }
    }
    mymap.createPane('pane_MorganSts_1');
    mymap.getPane('pane_MorganSts_1').style.zIndex = 399;
    var layer_MorganSts_1 = new L.geoJson(json_MorganSts_1, {
        attribution: '',
        pane: 'pane_MorganSts_1',
        style: style_MorganSts_1_0,
    });
    mymap.addLayer(layer_MorganSts_1);
    L.tileLayer('https://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token={accessToken}', {
    attribution: 'Map data &copy; <a href="https://www.openstreetmap.org/">OpenStreetMap</a> contributors, <a href="https://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, Imagery Â© <a href="https://www.mapbox.com/">Mapbox</a>',
    className: 'mapbox',
    id: 'mapbox.satellite',
    bounds:[[40.49,-74.30],[40.430,-74.2377]],
    accessToken: 'sk.eyJ1IjoibnRlcndpbjcxNCIsImEiOiJjang2aXg1dXAwMDVvM3RreXQ0dzllczN3In0.Ur4AUGHzeMqCEAczqRik-w',
    }).addTo(mymap);
    var baseMaps = {};
    L.control.scale({imperial:true,metric:false}).addTo(mymap);
    L.control.layers(baseMaps,{'<span class="legend-name">Zoning<br>Designations</span><table class="legend"><tr><td><img src="/map/legend/MorganProps_0_R70.png" /></td><td>R-7</td></tr><tr><td><img src="/map/legend/MorganProps_0_R101.png" /></td><td>R-10</td></tr><tr><td><img src="/map/legend/MorganProps_0_PD102.png" /></td><td>PD-10</td></tr><tr><td><img src="/map/legend/MorganProps_0_B33.png" /></td><td>B-3</td></tr><tr><td><img src="/map/legend/MorganProps_0_P4.png" /></td><td>P</td></tr><tr><td><img src="/map/legend/MorganProps_0_MW5.png" /></td><td>MW</td></tr><tr><td><img src="/map/legend/MorganProps_0_MWPUD6.png" /></td><td>MW (PUD)</td></tr><tr><td><img src="/map/legend/MorganProps_0_7.png" /></td><td>Train</td></tr></table>': layer_MorganProps_0,},{collapsed:false}).addTo(mymap);
    </script>
    var hwypoint = L.marker([40.4683,-74.2818]).addTo(mymap);
